<nbw-modal
        [hasHeader]="true"
        [hasFooter]="false"
        [dataBackdrop]="false"
        [modalSize]="MyModalSize.CUSTOM_WIDTH"
        [customWidthPercent]="{xs: 100, md:65}"
        autoShow="false"
        [myId]="'ViewAsset'">
    <div modal-header>
        <span *ngIf=" sendTypeGetAll === 'B'">مکان ها</span>
        <span *ngIf=" sendTypeGetAll === 'F'|| sendTypeGetAll === 'T'">دستگاه ها</span>
    </div>
    <div modal-body style="display: flow-root">
        <table class="table table-striped table-bordered">
            <thead>
            <tr>
                <th class="text-right" style="width: 5%">نام دارایی</th>
                <th class="text-right" style="width: 5%">کد دارایی</th>
                <th class="text-right" style="width: 5%">وضعیت دارایی</th>
                <th class="text-right" style="width: 5%"></th>
            </tr>
            </thead>
            <tbody>
            <ng-container *ngFor="let assetOfAssetList of assetList; let i = index">

                <tr style="height: 35px">
                    <td style="text-align: right">
                        <ng-container *ngIf="assetOfAssetList.hasChild">


                            <!--<span *ngIf="item.openPlus === false"  [ngStyle]="{marginRight:item.marginRight+'px'}">-->
                            <!--<i class="far fa-plus-square" (click)="getChildList(item, i)"></i>-->
                            <!--</span>-->
                            <i *ngIf="loadingForGetChild&&selectedParentIdForGetChild===assetOfAssetList.id"
                               class="fa fa-spinner fa-pulse fa-1x"></i>

                            <img *ngIf="!assetOfAssetList.openPlus" width="20"
                                 src="../../../../../assets/images/asset-tree/expand.png"
                                 [ngStyle]="{marginRight:assetOfAssetList.marginRight +'px'}"
                                 (click)="getChildList(assetOfAssetList)"
                                 style="cursor: pointer"
                                 alt="..."
                            >


                            <img *ngIf="assetOfAssetList.openPlus" width="20"
                                 src="../../../../../assets/images/asset-tree/navigate.png"
                                 [ngStyle]="{marginRight:assetOfAssetList.marginRight +'px'}"
                                 (click)="methodTow(assetOfAssetList)"
                                 style="cursor: pointer"
                                 alt="...">

                            <img *ngIf="assetOfAssetList.categoryType === categoryType[categoryType.BUILDING.toString()]"
                                 width="20"
                                 style="margin-right: 2px"
                                 src="../../../../../assets/images/asset-tree/facilities-16.png"
                                 alt="...">
                            <img *ngIf="assetOfAssetList.categoryType === categoryType[categoryType.FACILITY.toString()]"
                                 width="20"
                                 src="../../../../../assets/images/asset-tree/equipment-16.png"
                                 style="margin-right: 2px"
                                 alt="...">

                            <img *ngIf="assetOfAssetList.categoryType === categoryType[categoryType.TOOLS.toString()]"
                                 width="20"
                                 style="margin-right: 2px"
                                 src="../../../../../assets/images/asset-tree/tools-16.png"
                                 alt="...">
                            <!--=============================================================================-->

                            <!--&nbsp;&nbsp;<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.TOOLS.toString()] " >-->
                            <!--<span    style="font-size: 12px; margin-right: 2px; cursor: not-allowed "> {{item.name}} </span>-->
                            <!--</ng-container>-->

                            <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.FACILITY.toString()]" >-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px; cursor: not-allowed "> {{item.name}} </span>-->

                            <!--</ng-container>-->

                            <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.BUILDING.toString()] ">-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                            <!--</ng-container>-->
                            <!--===============================================================================-->
                            <ng-container *ngIf="sendTypeGetAll === 'F' &&
            assetOfAssetList.categoryType ===  categoryType[categoryType.BUILDING.toString()]">
                                <span style="font-size: 12px; margin-right: 2px ; cursor: not-allowed "> {{assetOfAssetList.name}} </span>
                            </ng-container>
                            <ng-container *ngIf="sendTypeGetAll === 'F' &&
            assetOfAssetList.categoryType ===  categoryType[categoryType.TOOLS.toString()] ||
            assetOfAssetList.categoryType ===  categoryType[categoryType.FACILITY.toString()]">
                                <span (click)="treeMethod(assetOfAssetList)"
                                      style="font-size: 12px; margin-right: 2px "> {{assetOfAssetList.name}} </span>
                            </ng-container>
                            <!--===============================================================================-->
                            <!--<ng-container *ngIf="sendTypeGetAll === 'T'">-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                            <!--</ng-container>-->
                            <!--=====================================================================================-->
                        </ng-container>
                        <ng-container *ngIf="!assetOfAssetList.hasChild">
                            <img *ngIf="assetOfAssetList.categoryType === categoryType[categoryType.FACILITY.toString()]"
                                 width="20"
                                 src="../../../../../assets/images/asset-tree/equipment-16.png"
                                 [ngStyle]="{marginRight:assetOfAssetList.marginRight + 20 +'px'}"
                                 alt="...">
                            <img *ngIf="assetOfAssetList.categoryType === categoryType[categoryType.BUILDING.toString()]"
                                 width="20"
                                 src="../../../../../assets/images/asset-tree/facilities-16.png"
                                 [ngStyle]="{marginRight:assetOfAssetList.marginRight + 20+'px'}"
                                 alt="...">
                            <img *ngIf="assetOfAssetList.categoryType === categoryType[categoryType.TOOLS.toString()]"
                                 width="20"
                                 src="../../../../../assets/images/asset-tree/tools-16.png"
                                 [ngStyle]="{marginRight:assetOfAssetList.marginRight + 20 +'px'}"
                                 alt="...">
                            &nbsp;&nbsp;
                            <!--=============================================================================-->

                            <!--&nbsp;&nbsp;<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.TOOLS.toString()] " >-->
                            <!--<span    style="font-size: 12px; margin-right: 2px;cursor: not-allowed "> {{item.name}} </span>-->
                            <!--</ng-container>-->

                            <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.FACILITY.toString()] ">-->
                            <!--<span    style="font-size: 12px; margin-right: 2px; cursor: not-allowed "> {{item.name}} </span>-->

                            <!--</ng-container>-->

                            <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.BUILDING.toString()] ">-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                            <!--</ng-container>-->
                            <!--===============================================================================-->
                            <ng-container *ngIf="sendTypeGetAll === 'F' &&
            assetOfAssetList.categoryType ===  categoryType[categoryType.BUILDING.toString()]">
                                <span style="font-size: 12px; margin-right: 2px ; cursor: not-allowed "> {{assetOfAssetList.name}} </span>
                            </ng-container>
                            <ng-container *ngIf="sendTypeGetAll === 'F' &&
            assetOfAssetList.categoryType ===  categoryType[categoryType.TOOLS.toString()] ||
            assetOfAssetList.categoryType ===  categoryType[categoryType.FACILITY.toString()]">
                                <span style="font-size: 12px; margin-right: 2px "> {{assetOfAssetList.name}} </span>
                            </ng-container>
                            <!--===============================================================================-->
                            <!--<ng-container *ngIf="sendTypeGetAll === 'T' ">-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                            <!--</ng-container>-->
                            <!--=====================================================================================-->


                        </ng-container>
                    </td>

                    <td style="text-align: right; font-size: 12px">{{assetOfAssetList.code}}</td>
                    <td style="text-align: right; font-size: 12px">
                        <ng-container *ngIf="assetOfAssetList.status">
                            فعال
                        </ng-container>
                        <ng-container *ngIf="!assetOfAssetList.status">
                            غیرفعال
                        </ng-container>
                    </td>
                    <td>
<!--                        <ng-container-->
<!--                                *ngIf=" assetOfAssetList.categoryType !== categoryType[categoryType.BUILDING.toString()]">-->
                            <button class="btn btn-sm btn-action" (click)="treeMethod(assetOfAssetList)">
                                انتخاب
                            </button>
<!--                        </ng-container>-->
                    </td>
                </tr>
                <ng-container *ngIf="assetOfAssetList.hasChild">
                    <ng-template [ngTemplateOutlet]="childListTemp"
                                 [ngTemplateOutletContext]="{$implicit:assetOfAssetList.childAssetList,  stepIn:1 }">
                    </ng-template>
                </ng-container>
            </ng-container>
            </tbody>
        </table>
    </div>

    <!--childList-->
    <ng-template #childListTemp let-childList let-stepIn='stepIn'>
        <ng-container *ngFor="let child of childList; let i = index">
            <tr style="height: 35px">
                <td style="text-align: right">
                    <ng-container *ngIf="child.hasChild ">
                    <span [style.margin-right.px]=" 40*stepIn">


                        <!--<span *ngIf="item.openPlus === false"  [ngStyle]="{marginRight:item.marginRight+'px'}">-->
                        <!--<i class="far fa-plus-square" (click)="getChildList(item, i)"></i>-->
                        <!--</span>-->
                        <i *ngIf="loadingForGetChild&&selectedParentIdForGetChild===child.id"
                           class="fa fa-spinner fa-pulse fa-1x"></i>

                        <img *ngIf="!child.openPlus" width="20"
                             src="../../../../../assets/images/asset-tree/expand.png"
                             [ngStyle]="{marginRight:child.marginRight +'px'}"
                             (click)="getChildList(child)"
                             style="cursor: pointer"
                             alt="...">


                        <img *ngIf="child.openPlus" width="20"
                             src="../../../../../assets/images/asset-tree/navigate.png"
                             [ngStyle]="{marginRight:child.marginRight +'px'}"
                             (click)="methodTow(child.id)"
                             style="cursor: pointer"
                             alt="...">

                        <img *ngIf="child.categoryType === categoryType[categoryType.BUILDING.toString()]"
                             width="20"
                             style="margin-right: 2px"
                             src="../../../../../assets/images/asset-tree/facilities-16.png"
                             alt="...">
                        <img *ngIf="child.categoryType === categoryType[categoryType.FACILITY.toString()]"
                             width="20"
                             src="../../../../../assets/images/asset-tree/equipment-16.png"
                             style="margin-right: 2px"
                             alt="...">

                        <img *ngIf="child.categoryType === categoryType[categoryType.TOOLS.toString()]"
                             width="20"
                             style="margin-right: 2px"
                             src="../../../../../assets/images/asset-tree/tools-16.png"
                             alt="...">
                        <!--=============================================================================-->

                        <!--&nbsp;&nbsp;<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                        <!--item.categoryType ===  categoryType[categoryType.TOOLS.toString()] " >-->
                        <!--<span    style="font-size: 12px; margin-right: 2px; cursor: not-allowed "> {{item.name}} </span>-->
                        <!--</ng-container>-->

                        <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                        <!--item.categoryType ===  categoryType[categoryType.FACILITY.toString()]" >-->
                        <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px; cursor: not-allowed "> {{item.name}} </span>-->

                        <!--</ng-container>-->

                        <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                        <!--item.categoryType ===  categoryType[categoryType.BUILDING.toString()] ">-->
                        <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                        <!--</ng-container>-->
                        <!--===============================================================================-->
                        <ng-container *ngIf="sendTypeGetAll === 'F' &&
            child.categoryType ===  categoryType[categoryType.BUILDING.toString()]">
                            <span style="font-size: 12px; margin-right: 2px ; cursor: not-allowed "> {{child.name}} </span>
                        </ng-container>
                        <ng-container *ngIf="sendTypeGetAll === 'F' &&
            child.categoryType ===  categoryType[categoryType.TOOLS.toString()] ||
            child.categoryType ===  categoryType[categoryType.FACILITY.toString()]">
                                <span (click)="treeMethod(child)"
                                      style="font-size: 12px; margin-right: 2px "> {{child.name}} </span>
                        </ng-container>
                        <!--===============================================================================-->
                        <!--<ng-container *ngIf="sendTypeGetAll === 'T'">-->
                        <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                        <!--</ng-container>-->
                        <!--=====================================================================================-->
                    </span>
                    </ng-container>
                    <ng-container *ngIf="!child.hasChild">
                        <span [style.margin-right.px]=" 40*(stepIn+1)">

                        <img *ngIf="child.categoryType === categoryType[categoryType.FACILITY.toString()]"
                             width="20"
                             src="../../../../../assets/images/asset-tree/equipment-16.png"
                             [ngStyle]="{marginRight:child.marginRight + 20 +'px'}"
                             alt="...">
                        <img *ngIf="child.categoryType === categoryType[categoryType.BUILDING.toString()]"
                             width="20"
                             src="../../../../../assets/images/asset-tree/facilities-16.png"
                             [ngStyle]="{marginRight:child.marginRight + 20+'px'}"
                             alt="...">
                        <img *ngIf="child.categoryType === categoryType[categoryType.TOOLS.toString()]"
                             width="20"
                             src="../../../../../assets/images/asset-tree/tools-16.png"
                             [ngStyle]="{marginRight:child.marginRight + 20 +'px'}"
                             alt="...">
                        &nbsp;&nbsp;
                            <!--=============================================================================-->

                            <!--&nbsp;&nbsp;<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.TOOLS.toString()] " >-->
                            <!--<span    style="font-size: 12px; margin-right: 2px;cursor: not-allowed "> {{item.name}} </span>-->
                            <!--</ng-container>-->

                            <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.FACILITY.toString()] ">-->
                            <!--<span    style="font-size: 12px; margin-right: 2px; cursor: not-allowed "> {{item.name}} </span>-->

                            <!--</ng-container>-->

                            <!--<ng-container *ngIf="sendTypeGetAll === 'B' &&-->
                            <!--item.categoryType ===  categoryType[categoryType.BUILDING.toString()] ">-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                            <!--</ng-container>-->
                            <!--===============================================================================-->
                        <ng-container *ngIf="sendTypeGetAll === 'F' &&
            child.categoryType ===  categoryType[categoryType.BUILDING.toString()]">
                            <span style="font-size: 12px; margin-right: 2px ; cursor: not-allowed "> {{child.name}} </span>
                        </ng-container>
                        <ng-container *ngIf="sendTypeGetAll === 'F' &&
            child.categoryType ===  categoryType[categoryType.TOOLS.toString()] ||
            child.categoryType ===  categoryType[categoryType.FACILITY.toString()]">
                            <span style="font-size: 12px; margin-right: 2px "> {{child.name}} </span>
                        </ng-container>
                            <!--===============================================================================-->
                            <!--<ng-container *ngIf="sendTypeGetAll === 'T' ">-->
                            <!--<span (click)="treeMethod(item)"   style="font-size: 12px; margin-right: 2px"> {{item.name}} </span>-->
                            <!--</ng-container>-->
                            <!--=====================================================================================-->

                        </span>
                    </ng-container>
                </td>

                <td style="text-align: right; font-size: 12px">{{child.code}}</td>
                <td style="text-align: right; font-size: 12px">
                    <ng-container *ngIf="child.status">
                        فعال
                    </ng-container>
                    <ng-container *ngIf="!child.status">
                        غیرفعال
                    </ng-container>
                </td>
                <td>
<!--                    <ng-container-->
<!--                            *ngIf=" child.categoryType !== categoryType[categoryType.BUILDING.toString()]">-->
                        <button class="btn btn-sm btn-action" (click)="treeMethod(child)">
                            انتخاب
                        </button>
<!--                    </ng-container>-->
                </td>
            </tr>

            <ng-container *ngIf="child.hasChild">
                <ng-template [ngTemplateOutlet]="childListTemp"
                             [ngTemplateOutletContext]="{$implicit:child.childAssetList,  stepIn:stepIn+1 }">
                </ng-template>
            </ng-container>
        </ng-container>
    </ng-template>
    <!--childList-->
</nbw-modal>
